// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace LoginExample.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using LoginExample;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/_Imports.razor"
using LoginExample.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/Pages/AdultCreation.razor"
using global::Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/Pages/AdultCreation.razor"
using System.Text.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/Pages/AdultCreation.razor"
using System.Text;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/adultCreation")]
    public partial class AdultCreation : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 51 "/Users/Kasper/Documents/3. Semester/DNP/Assignment 1 - Second try/LoginExample/Pages/AdultCreation.razor"
       
    private string FirstName, LastName, HairColor, EyeColor, Sex;
    private int Age, Height, Id;
    private float Weight;


    private string jobTitleText;
    private int salary;
    

   
    
    public void submit()
    {
        Adult tempA = new Adult();
        tempA.id = Id;
        tempA.firstName = FirstName;
        tempA.lastName = LastName;
        tempA.hairColor = HairColor;
        tempA.eyeColor = EyeColor;
        tempA.age = Age;
        tempA.weight = Weight;
        tempA.height = Height;
        tempA.sex = Sex;

        Job tempJob = new Job();
        tempJob.jobTitle = jobTitleText;
        tempJob.salary = salary;
        tempA.jobTitle = tempJob;
        try
        {
            Id = 0;
            
            //adultFromJson.Adults.Add(tempA);
            
            //adultFromJson.SaveChanges();

            //SEND TO REST API
            POST(tempA);
            
            //DONE SENDING TO REST API
            
            
            
            
            FirstName = "";
            LastName = "";
            HairColor = "";
            EyeColor = "";
            Sex = "";
            Age = new int();
            Height = new int();
            Id = new int();
            Weight = new float();
        }
        catch (Exception e)
        {
            Console.WriteLine(e);
            throw;
        }
    }

    private async static Task POST(Adult adult)
    {
        HttpClient client = new HttpClient();

        string adultAsJson = JsonSerializer.Serialize(adult);

        StringContent content = new StringContent(
            adultAsJson,
            Encoding.UTF8,
            "application/json"
            );

        HttpResponseMessage response = await client.PostAsync("https://localhost:5005/Adult", content);
        if (!response.IsSuccessStatusCode)
        {
            throw new Exception($@"Error: {response.StatusCode}, {response.ReasonPhrase}");
        }

    }
    

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
